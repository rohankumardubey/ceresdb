<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Style guide - CeresDB Documentation</title>
        <!-- Custom HTML head -->
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">
        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item affix "><li class="part-title">Introduction</li><li class="chapter-item "><a href="../about.html"><strong aria-hidden="true">1.</strong> What is CeresDB</a></li><li class="chapter-item "><a href="../quick_start.html"><strong aria-hidden="true">2.</strong> Quick Start</a></li><li class="chapter-item affix "><li class="part-title">User Guide</li><li class="chapter-item "><a href="../sql/index.html"><strong aria-hidden="true">3.</strong> SQL Syntax</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../sql/model/index.html"><strong aria-hidden="true">3.1.</strong> Data Model</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../sql/model/data_types.html"><strong aria-hidden="true">3.1.1.</strong> Data Types</a></li><li class="chapter-item "><a href="../sql/model/special_columns.html"><strong aria-hidden="true">3.1.2.</strong> Special Columns</a></li></ol></li><li class="chapter-item "><a href="../sql/identifier.html"><strong aria-hidden="true">3.2.</strong> Identifier</a></li><li class="chapter-item "><a href="../sql/ddl/index.html"><strong aria-hidden="true">3.3.</strong> Data Definition Statements</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../sql/ddl/create_table.html"><strong aria-hidden="true">3.3.1.</strong> CREATE TABLE</a></li><li class="chapter-item "><a href="../sql/ddl/alter_table.html"><strong aria-hidden="true">3.3.2.</strong> ALTER TABLE</a></li></ol></li><li class="chapter-item "><a href="../sql/dml/index.html"><strong aria-hidden="true">3.4.</strong> Data Manipulation Statements</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../sql/dml/insert.html"><strong aria-hidden="true">3.4.1.</strong> INSERT</a></li><li class="chapter-item "><a href="../sql/dml/select.html"><strong aria-hidden="true">3.4.2.</strong> SELECT</a></li></ol></li><li class="chapter-item "><a href="../sql/utility.html"><strong aria-hidden="true">3.5.</strong> Utility Statements</a></li><li class="chapter-item "><a href="../sql/engine_options.html"><strong aria-hidden="true">3.6.</strong> Engine Options</a></li></ol></li><li class="chapter-item "><a href="../deploy/index.html"><strong aria-hidden="true">4.</strong> Deployment</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../deploy/platform.html"><strong aria-hidden="true">4.1.</strong> Supported Platform</a></li><li class="chapter-item "><a href="../deploy/static_routing.html"><strong aria-hidden="true">4.2.</strong> Static Routing</a></li><li class="chapter-item "><a href="../deploy/dynamic_routing.html"><strong aria-hidden="true">4.3.</strong> Dynamic Routing</a></li></ol></li><li class="chapter-item "><a href="../sdk.html"><strong aria-hidden="true">5.</strong> Develop Kits</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../sdk/java.html"><strong aria-hidden="true">5.1.</strong> Java SDK</a></li><li class="chapter-item "><a href="../sdk/go.html"><strong aria-hidden="true">5.2.</strong> Go SDK</a></li><li class="chapter-item "><a href="../sdk/python.html"><strong aria-hidden="true">5.3.</strong> Python SDK</a></li><li class="chapter-item "><a href="../sdk/rust.html"><strong aria-hidden="true">5.4.</strong> Rust SDK</a></li></ol></li><li class="chapter-item "><a href="../operation/index.html"><strong aria-hidden="true">6.</strong> Operation</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../operation/table.html"><strong aria-hidden="true">6.1.</strong> Table</a></li><li class="chapter-item "><a href="../operation/system_table.html"><strong aria-hidden="true">6.2.</strong> System Table</a></li><li class="chapter-item "><a href="../operation/block_list.html"><strong aria-hidden="true">6.3.</strong> Block List</a></li><li class="chapter-item "><a href="../operation/observability.html"><strong aria-hidden="true">6.4.</strong> Observability</a></li></ol></li><li class="chapter-item "><li class="part-title">Dev Guide</li><li class="chapter-item "><a href="../dev/platform.html"><strong aria-hidden="true">7.</strong> Supported Platform</a></li><li class="chapter-item "><a href="../dev/compile_run.html"><strong aria-hidden="true">8.</strong> Compile and Running</a></li><li class="chapter-item "><a href="../dev/conventional_commit.html"><strong aria-hidden="true">9.</strong> Conventional Commit</a></li><li class="chapter-item expanded "><a href="../dev/style_guide.html" class="active"><strong aria-hidden="true">10.</strong> Style guide</a></li><li class="chapter-item "><a href="../dev/roadmap.html"><strong aria-hidden="true">11.</strong> Roadmap</a></li><li class="chapter-item affix "><li class="part-title">Technical and Design</li><li class="chapter-item "><a href="../architecture.html"><strong aria-hidden="true">12.</strong> Architecture</a></li><li class="chapter-item "><a href="../storage.html"><strong aria-hidden="true">13.</strong> Storage</a></li><li class="chapter-item "><a href="../query.html"><strong aria-hidden="true">14.</strong> Query</a></li><li class="chapter-item "><a href="../wal.html"><strong aria-hidden="true">15.</strong> Wal</a></li><li class="chapter-item "><a href="../table_partitioning.html"><strong aria-hidden="true">16.</strong> Table Partitioning</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">CeresDB Documentation</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="rationale-and-goals"><a class="header" href="#rationale-and-goals">Rationale and Goals</a></h1>
<p>As every Rust programmer knows, the language has many powerful features, and there are often
several patterns which can express the same idea. Also, as every professional programmer comes to
discover, code is almost always read far more than it is written.</p>
<p>Thus, we choose to use a consistent set of idioms throughout our code so that it is easier to read
and understand for both existing and new contributors.</p>
<h2 id="unsafe-and-platform-dependent-conditional-compilation"><a class="header" href="#unsafe-and-platform-dependent-conditional-compilation">Unsafe and Platform-Dependent conditional compilation</a></h2>
<h3 id="avoid-unsafe-rust"><a class="header" href="#avoid-unsafe-rust">Avoid <code>unsafe</code> Rust</a></h3>
<p>One of the main reasons to use Rust as an implementation language is its strong memory safety
guarantees; Almost all of these guarantees are voided by the use of <code>unsafe</code>. Thus, unless there is
an excellent reason and the use is discussed beforehand, it is unlikely CeresDB will accept patches
with <code>unsafe</code> code.</p>
<p>We may consider taking unsafe code given:</p>
<ul>
<li>performance benchmarks showing a <em>very</em> compelling improvement </li>
<li>a compelling explanation of why the same performance can not be achieved using <code>safe</code> code</li>
<li>tests showing how it works safely across threads</li>
</ul>
<h3 id="avoid-platform-specific-conditional-compilation-cfg"><a class="header" href="#avoid-platform-specific-conditional-compilation-cfg">Avoid platform-specific conditional compilation <code>cfg</code></a></h3>
<p>We hope that CeresDB is usable across many different platforms and Operating systems, which means we
put a high value on standard Rust.</p>
<p>While some performance critical code may require architecture specific instructions, (e.g.
<code>AVX512</code>) most of the code should not.</p>
<h2 id="errors"><a class="header" href="#errors">Errors</a></h2>
<h3 id="all-errors-should-follow-the-snafu-crate-philosophy-and-use-snafu-functionality"><a class="header" href="#all-errors-should-follow-the-snafu-crate-philosophy-and-use-snafu-functionality">All errors should follow the <a href="https://docs.rs/snafu/0.6.10/snafu/guide/philosophy/index.html">SNAFU crate philosophy</a> and use SNAFU functionality</a></h3>
<p><em>Good</em>:</p>
<ul>
<li>Derives <code>Snafu</code> and <code>Debug</code> functionality</li>
<li>Has a useful, end-user-friendly display message</li>
</ul>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>#[derive(Snafu, Debug)]
pub enum Error {
    #[snafu(display(r#&quot;Conversion needs at least one line of data&quot;#))]
    NeedsAtLeastOneLine,
    // ...
}
<span class="boring">}
</span></code></pre></pre>
<p><em>Bad</em>:</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>pub enum Error {
    NeedsAtLeastOneLine,
    // ...
<span class="boring">}
</span></code></pre></pre>
<h3 id="use-the-ensure-macro-to-check-a-condition-and-return-an-error"><a class="header" href="#use-the-ensure-macro-to-check-a-condition-and-return-an-error">Use the <code>ensure!</code> macro to check a condition and return an error</a></h3>
<p><em>Good</em>:</p>
<ul>
<li>Reads more like an <code>assert!</code></li>
<li>Is more concise</li>
</ul>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>ensure!(!self.schema_sample.is_empty(), NeedsAtLeastOneLine);
<span class="boring">}
</span></code></pre></pre>
<p><em>Bad</em>:</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>if self.schema_sample.is_empty() {
    return Err(Error::NeedsAtLeastOneLine {});
}
<span class="boring">}
</span></code></pre></pre>
<h3 id="errors-should-be-defined-in-the-module-they-are-instantiated"><a class="header" href="#errors-should-be-defined-in-the-module-they-are-instantiated">Errors should be defined in the module they are instantiated</a></h3>
<p><em>Good</em>:</p>
<ul>
<li>Groups related error conditions together most closely with the code that produces them</li>
<li>Reduces the need to <code>match</code> on unrelated errors that would never happen</li>
</ul>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>#[derive(Debug, Snafu)]
pub enum Error {
    #[snafu(display(&quot;Not implemented: {}&quot;, operation_name))]
    NotImplemented { operation_name: String }
}
// ...
ensure!(foo.is_implemented(), NotImplemented {
    operation_name: &quot;foo&quot;,
}
<span class="boring">}
</span></code></pre></pre>
<p><em>Bad</em>:</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>use crate::errors::NotImplemented;
// ...
ensure!(foo.is_implemented(), NotImplemented {
    operation_name: &quot;foo&quot;,
}
<span class="boring">}
</span></code></pre></pre>
<h3 id="the-result-type-alias-should-be-defined-in-each-module"><a class="header" href="#the-result-type-alias-should-be-defined-in-each-module">The <code>Result</code> type alias should be defined in each module</a></h3>
<p><em>Good</em>:</p>
<ul>
<li>Reduces repetition</li>
</ul>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>pub type Result&lt;T, E = Error&gt; = std::result::Result&lt;T, E&gt;;
...
fn foo() -&gt; Result&lt;bool&gt; { true }
<span class="boring">}
</span></code></pre></pre>
<p><em>Bad</em>:</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>...
fn foo() -&gt; Result&lt;bool, Error&gt; { true }
<span class="boring">}
</span></code></pre></pre>
<h3 id="err-variants-should-be-returned-with-fail"><a class="header" href="#err-variants-should-be-returned-with-fail"><code>Err</code> variants should be returned with <code>fail()</code></a></h3>
<p><em>Good</em>:</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>return NotImplemented {
    operation_name: &quot;Parquet format conversion&quot;,
}.fail();
<span class="boring">}
</span></code></pre></pre>
<p><em>Bad</em>:</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>return Err(Error::NotImplemented {
    operation_name: String::from(&quot;Parquet format conversion&quot;),
});
<span class="boring">}
</span></code></pre></pre>
<h3 id="use-context-to-wrap-underlying-errors-into-module-specific-errors"><a class="header" href="#use-context-to-wrap-underlying-errors-into-module-specific-errors">Use <code>context</code> to wrap underlying errors into module specific errors</a></h3>
<p><em>Good</em>:</p>
<ul>
<li>Reduces boilerplate</li>
</ul>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>input_reader
    .read_to_string(&amp;mut buf)
    .context(UnableToReadInput {
        input_filename,
    })?;
<span class="boring">}
</span></code></pre></pre>
<p><em>Bad</em>:</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>input_reader
    .read_to_string(&amp;mut buf)
    .map_err(|e| Error::UnableToReadInput {
        name: String::from(input_filename),
        source: e,
    })?;
<span class="boring">}
</span></code></pre></pre>
<p><em>Hint for <code>Box&lt;dyn::std::error::Error&gt;</code> in Snafu</em>:</p>
<p>If your error contains a trait object (e.g. <code>Box&lt;dyn std::error::Error + Send + Sync&gt;</code>), in order
to use <code>context()</code> you need to wrap the error in a <code>Box</code>:</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>#[derive(Debug, Snafu)]
pub enum Error {

    #[snafu(display(&quot;gRPC planner got error listing partition keys: {}&quot;, source))]
    ListingPartitions {
        source: Box&lt;dyn std::error::Error + Send + Sync&gt;,
    },
}

...

  // Wrap error in a box prior to calling context()
database
  .partition_keys()
  .await
  .map_err(|e| Box::new(e) as _)
  .context(ListingPartitions)?;
<span class="boring">}
</span></code></pre></pre>
<p>Note the <code>as _</code> in the <code>map_err</code> call. Without it, you may get an error such as:</p>
<pre><code class="language-console">error[E0271]: type mismatch resolving `&lt;ListingPartitions as IntoError&lt;influxrpc::Error&gt;&gt;::Source == Box&lt;&lt;D as Database&gt;::Error&gt;`
  --&gt; query/src/frontend/influxrpc.rs:63:14
   |
63 |             .context(ListingPartitions)?;
   |              ^^^^^^^ expected trait object `dyn snafu::Error`, found associated type
   |
   = note: expected struct `Box&lt;(dyn snafu::Error + Send + Sync + 'static)&gt;`
              found struct `Box&lt;&lt;D as Database&gt;::Error&gt;`
   = help: consider constraining the associated type `&lt;D as Database&gt;::Error` to `(dyn snafu::Error + Send + Sync + 'static)`
   = note: for more information, visit https://doc.rust-lang.org/book/ch19-03-advanced-traits.html
</code></pre>
<h3 id="each-error-cause-in-a-module-should-have-a-distinct-error-enum-variant"><a class="header" href="#each-error-cause-in-a-module-should-have-a-distinct-error-enum-variant">Each error cause in a module should have a distinct <code>Error</code> enum variant</a></h3>
<p>Specific error types are preferred over a generic error with a <code>message</code> or <code>kind</code> field.</p>
<p><em>Good</em>:</p>
<ul>
<li>Makes it easier to track down the offending code based on a specific failure</li>
<li>Reduces the size of the error enum (<code>String</code> is 3x 64-bit vs no space)</li>
<li>Makes it easier to remove vestigial errors</li>
<li>Is more concise</li>
</ul>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>#[derive(Debug, Snafu)]
pub enum Error {
    #[snafu(display(&quot;Error writing remaining lines {}&quot;, source))]
    UnableToWriteGoodLines { source: IngestError },

    #[snafu(display(&quot;Error while closing the table writer {}&quot;, source))]
    UnableToCloseTableWriter { source: IngestError },
}

// ...

write_lines.context(UnableToWriteGoodLines)?;
close_writer.context(UnableToCloseTableWriter))?;
<span class="boring">}
</span></code></pre></pre>
<p><em>Bad</em>:</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>pub enum Error {
    #[snafu(display(&quot;Error {}: {}&quot;, message, source))]
    WritingError {
        source: IngestError,
        message: String,
    },
}

write_lines.context(WritingError {
    message: String::from(&quot;Error while writing remaining lines&quot;),
})?;
close_writer.context(WritingError {
    message: String::from(&quot;Error while closing the table writer&quot;),
})?;
<span class="boring">}
</span></code></pre></pre>
<h2 id="tests"><a class="header" href="#tests">Tests</a></h2>
<h3 id="dont-return-result-from-test-functions"><a class="header" href="#dont-return-result-from-test-functions">Don't return <code>Result</code> from test functions</a></h3>
<p>At the time of this writing, if you return <code>Result</code> from test functions to use <code>?</code> in the test
function body and an <code>Err</code> value is returned, the test failure message is not particularly helpful.
Therefore, prefer not having a return type for test functions and instead using <code>expect</code> or
<code>unwrap</code> in test function bodies.</p>
<p><em>Good</em>:</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>#[test]
fn google_cloud() {
    let config = Config::new();
    let integration = ObjectStore::new_google_cloud_storage(GoogleCloudStorage::new(
        config.service_account,
        config.bucket,
    ));

    put_get_delete_list(&amp;integration).unwrap();
    list_with_delimiter(&amp;integration).unwrap();
}
<span class="boring">}
</span></code></pre></pre>
<p><em>Bad</em>:</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>type TestError = Box&lt;dyn std::error::Error + Send + Sync + 'static&gt;;
type Result&lt;T, E = TestError&gt; = std::result::Result&lt;T, E&gt;;

#[test]
fn google_cloud() -&gt; Result&lt;()&gt; {
    let config = Config::new();
    let integration = ObjectStore::new_google_cloud_storage(GoogleCloudStorage::new(
        config.service_account,
        config.bucket,
    ));

    put_get_delete_list(&amp;integration)?;
    list_with_delimiter(&amp;integration)?;
    Ok(())
}
<span class="boring">}
</span></code></pre></pre>
<h2 id="thanks"><a class="header" href="#thanks">Thanks</a></h2>
<p>Fork from <a href="https://github.com/influxdata/influxdb_iox/blob/main/docs/style_guide.md">influxdb_iox</a>.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../dev/conventional_commit.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                            <a rel="next" href="../dev/roadmap.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../dev/conventional_commit.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                    <a rel="next" href="../dev/roadmap.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>

        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        <script src="../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../searcher.js" type="text/javascript" charset="utf-8"></script>
        <script src="../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="../book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
    </body>
</html>
